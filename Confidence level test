# confidence interval test for mu at level 0.95

iter = 10000
n = 100
mu = 5
sd = 1

result = rep(NA, iter)
for(i in 1:iter)
{
   set.seed(i)
   x = rnorm(n, mean = mu, sd = sd)
   t_value = qt(0.975, df = n - 1)
   ci_lower = mean(x) - t_value * sd(x) / sqrt(n)
   ci_upper = mean(x) + t_value * sd(x) / sqrt(n)
   result[i] = ( mu >= ci_lower ) & ( mu <= ci_upper)
}

mean(result)
